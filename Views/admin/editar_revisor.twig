{% extends "layouts/base.twig" %}

{% block content %}
<section class="section">
    <div class="container">
        <h1 class="title">Editar Revisor</h1>

        <form method="POST" action="/private/revisores/editar/{{ revisor.id_usuario }}">

            <!-- Nombre -->
            <div class="field">
                <label class="label">Nombre</label>
                <div class="control">
                    <input class="input" type="text" name="nombre" required maxlength="85" value="{{ revisor.nombre|e }}">
                </div>
            </div>

            <!-- Email -->
            <div class="field">
                <label class="label">Email</label>
                <div class="control">
                    <input class="input" type="email" name="email" required maxlength="95" value="{{ revisor.email|e }}">
                </div>
            </div>

            <!-- RUT -->
            <div class="field">
                <label class="label">RUT</label>
                <div class="control">
                    <input class="input" type="text" name="rut" required maxlength="10" value="{{ revisor.rut|e }}">
                </div>
            </div>

            <!-- Contraseña -->
            <div class="field">
                <label class="label">Nueva contraseña (opcional)</label>
                <div class="control">
                    <input class="input" type="password" name="contrasena" maxlength="30" placeholder="Dejar vacío para no cambiar">
                </div>
            </div>

            <!-- Especialidades -->
            <div class="field">
                <label class="label">Tópicos de especialidad</label>
                <div class="control">
                    {% for cat in categorias %}
                        <label class="checkbox mr-4">
                            <input type="checkbox" name="especialidades[]" value="{{ cat.id_categoria }}"
                                {% if cat.id_categoria in revisor.especialidades|map(e => e.id_categoria) %}checked{% endif %}>
                            {{ cat.nombre }}
                        </label>
                    {% endfor %}
                </div>
            </div>

            <!-- Botón -->
            <div class="field mt-4">
                <div class="control">
                    <button class="button is-success" type="submit">Guardar Cambios</button>
                    <a class="button is-light ml-2" href="/private/revisores">Cancelar</a>
                </div>
            </div>
        </form>
    </div>
</section>
{% endblock %}
